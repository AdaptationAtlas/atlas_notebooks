<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head><meta charset="utf-8"><meta name="generator" content="quarto-1.7.6"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes"><title>Template Modular Import Example</title><style>code{white-space:pre-wrap}span.smallcaps{font-variant:small-caps}div.columns{display:flex;gap:min(4vw,1.5em)}div.column{flex:auto;overflow-x:auto}div.hanging-indent{margin-left:1.5em;text-indent:-1.5em}ul.task-list{list-style:none}ul.task-list li input[type=checkbox]{width:.8em;margin:0 .8em .2em -1em;vertical-align:middle}pre>code.sourceCode{white-space:pre;position:relative}pre>code.sourceCode>span{line-height:1.25}pre>code.sourceCode>span:empty{height:1.2em}.sourceCode{overflow:visible}code.sourceCode>span{color:inherit;text-decoration:inherit}div.sourceCode{margin:1em 0}pre.sourceCode{margin:0}@media screen{div.sourceCode{overflow:auto}}@media print{pre>code.sourceCode{white-space:pre-wrap}pre>code.sourceCode>span{display:inline-block;text-indent:-5em;padding-left:5em}}pre.numberSource code{counter-reset:source-line 0}pre.numberSource code>span{position:relative;left:-4em;counter-increment:source-line}pre.numberSource code>span>a:first-child::before{content:counter(source-line);position:relative;left:-1em;text-align:right;vertical-align:baseline;border:none;display:inline-block;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 4px;width:4em}pre.numberSource{margin-left:3em;padding-left:4px}@media screen{pre>code.sourceCode>span>a:first-child::before{text-decoration:underline}}</style><script src="../../site_libs/quarto-nav/quarto-nav.js"></script><script src="../../site_libs/quarto-nav/headroom.min.js"></script><link href="../../images/atlas-icon.svg" rel="icon" type="image/svg+xml"><script src="../../site_libs/clipboard/clipboard.min.js"></script><script src="../../site_libs/quarto-html/quarto.js"></script><script src="../../site_libs/quarto-html/popper.min.js"></script><script src="../../site_libs/quarto-html/tippy.umd.min.js"></script><link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet"><link href="../../site_libs/quarto-html/quarto-syntax-highlighting-6c21014d9765ba549c6ebad95917e4d7.css" rel="stylesheet" id="quarto-text-highlighting-styles"><script src="../../site_libs/bootstrap/bootstrap.min.js"></script><link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet"><link href="../../site_libs/bootstrap/bootstrap-6448e6238a478e1185db7f27e4f81e9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script><link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet"><link rel="stylesheet" href="../../styles.css"></head><body class="nav-fixed"><div id="quarto-search-results"></div><header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg" data-bs-theme="dark"><div class="navbar-container container-fluid"><div class="navbar-brand-container mx-auto"><a href="https://adaptationatlas.cgiar.org" class="navbar-brand navbar-brand-logo"><img src="../../images/atlas-logo.svg" alt="The Africa Agriculture Adaptation Atlas" class="navbar-logo"></a></div><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="window.quartoToggleHeadroom&&window.quartoToggleHeadroom()"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarCollapse"><ul class="navbar-nav navbar-nav-scroll ms-auto"><li class="nav-item"><a class="nav-link" href="../../docs/doc_index.html"><i class="bi bi-info-circle" role="img" aria-label="More Information"></i> <span class="menu-text">Documentation</span></a></li><li class="nav-item"><a class="nav-link" href="https://github.com/AdaptationAtlas/atlas_notebooks/issues/new"><span class="menu-text">Report an Issue</span></a></li><li class="nav-item compact"><a class="nav-link" href="https://github.com/AdaptationAtlas/atlas_notebooks"><i class="bi bi-github" role="img" aria-label="GitHub"></i> <span class="menu-text"></span></a></li></ul></div><div class="quarto-navbar-tools"></div></div></nav></header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar"><main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header><div class="cell"><div class="sourceCode cell-code hidden" id="cb1" data-startfrom="14" data-source-offset="-154"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 13"><span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { atlasTOC<span class="op">,</span> atlasHero } <span class="im">from</span> <span class="st">"/helpers/uiComponents.ojs"</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>hero_url <span class="op">=</span> <span class="st">"/images/default_im.webp"</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="fu">atlasHero</span>(nbTitle<span class="op">,</span> hero_url)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-1-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-1-2" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-1-3" data-nodetype="expression"></div></div></div></div><section id="key-insight-text" class="level2 key-insights"><h2 class="key-insights" data-anchor-id="key-insight-text"><span><span id="ojs-element-id-1"></span></span></h2></section><section id="example-heading1" class="level1"><h1><span><span id="ojs-element-id-2"></span></span></h1><div class="cell"><div class="sourceCode cell-code hidden" id="cb2" data-startfrom="54" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 53"><span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { boundary_paths } <span class="im">from</span> <span class="st">"/helpers/boundaries.js"</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span> </span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data_topo <span class="op">=</span> <span class="cf">await</span> <span class="fu">FileAttachment</span>(<span class="st">"/data/shared/atlas_gaul_a0_africa_simple-vlowres.topojson"</span>)<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> topojson<span class="op">.</span><span class="fu">feature</span>(data_topo<span class="op">,</span> data_topo<span class="op">.</span><span class="at">objects</span>[<span class="st">"atlas_gaul_a0_africa"</span>])<span class="op">;</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> caption <span class="op">=</span> <span class="st">"This is an example map which can be copied and modified for Atlas notebooks"</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  <span class="co">// return plot</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span><span class="op">,</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    caption<span class="op">,</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">projection</span><span class="op">:</span> {</span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"azimuthal-equal-area"</span><span class="op">,</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> data</span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>      <span class="co">// geo data</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">geo</span>(data<span class="op">.</span><span class="at">features</span><span class="op">,</span> {</span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fill</span><span class="op">:</span> <span class="st">"lightgrey"</span><span class="op">,</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>        <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#fff"</span><span class="op">,</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>        <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">0.5</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>      })<span class="op">,</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>      <span class="co">// geo pointer</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">geo</span>(</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>        data<span class="op">,</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">pointer</span>(</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>          Plot<span class="op">.</span><span class="fu">centroid</span>({</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>            <span class="dt">stroke</span><span class="op">:</span> <span class="st">"#333"</span><span class="op">,</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>            <span class="dt">strokeWidth</span><span class="op">:</span> <span class="fl">1.5</span></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>          })</span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>      <span class="co">// tooltip</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">tip</span>(</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a>        data<span class="op">.</span><span class="at">features</span><span class="op">,</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a>        Plot<span class="op">.</span><span class="fu">pointer</span>(</span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>          Plot<span class="op">.</span><span class="fu">centroid</span>({</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>            <span class="dt">channels</span><span class="op">:</span> {</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>              <span class="dt">name</span><span class="op">:</span> {</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>                <span class="co">// region label, based on selection</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>                <span class="dt">label</span><span class="op">:</span> <span class="st">"Country"</span><span class="op">,</span> <span class="co">// plot-level so inputs don't reload</span></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>                <span class="dt">value</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">admin0_name</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>          })</span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>  plot<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> (<span class="bu">event</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>  <span class="co">// console.log(plot.value);</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>  mutable hoverCountry <span class="op">=</span> plot<span class="op">.</span><span class="at">value</span><span class="op">.</span><span class="at">properties</span><span class="op">.</span><span class="at">admin_name</span></span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> plot</span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-2-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-2-2" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-2-3" data-nodetype="expression"></div></div></div></div><p>Maecenas turpis velit, ultricies non elementum vel, luctus nec nunc. Nulla a diam interdum, faucibus sapien viverra, finibus metus. Donec non tortor diam. In ut elit aliquet, bibendum sem et, aliquam tortor. Donec congue, sem at rhoncus ultrices, nunc augue cursus erat, quis porttitor mauris libero ut ex. Nullam quis leo urna. Donec faucibus ligula eget pellentesque interdum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean rhoncus interdum erat ut ultricies. Aenean tempus ex non elit suscipit, quis dignissim enim efficitur. Proin laoreet enim massa, vitae laoreet nulla mollis quis.</p><p>Vestibulum ultrices, tortor at mattis porta, odio nisi rutrum nulla, sit amet tincidunt eros quam facilisis tellus. Fusce eleifend lectus in elementum lacinia. Nam auctor nunc in massa ullamcorper, sit amet auctor ante accumsan. Nam ut varius metus. Curabitur eget tristique leo. Cras finibus euismod erat eget elementum. Integer vel placerat ex. Ut id eros quis lectus lacinia venenatis hendrerit vel ante.</p></section><section id="example-heading2" class="level1"><h1><span><span id="ojs-element-id-3"></span></span></h1><p>Etiam quis tortor luctus, pellentesque ante a, finibus dolor. Phasellus in nibh et magna pulvinar malesuada. Ut nisl ex, sagittis at sollicitudin et, sollicitudin id nunc. In id porta urna. Proin porta dolor dolor, vel dapibus nisi lacinia in. Pellentesque ante mauris, ornare non euismod a, fermentum ut sapien. Proin sed vehicula enim. Aliquam tortor odio, vestibulum vitae odio in, tempor molestie justo. Praesent maximus lacus nec leo maximus blandit.</p><p>Maecenas turpis velit, ultricies non elementum vel, luctus nec nunc. Nulla a diam interdum, faucibus sapien viverra, finibus metus. Donec non tortor diam. In ut elit aliquet, bibendum sem et, aliquam tortor. Donec congue, sem at rhoncus ultrices, nunc augue cursus erat, quis porttitor mauris libero ut ex. Nullam quis leo urna. Donec faucibus ligula eget pellentesque interdum. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean rhoncus interdum erat ut ultricies. Aenean tempus ex non elit suscipit, quis dignissim enim efficitur. Proin laoreet enim massa, vitae laoreet nulla mollis quis.</p></section><section id="example-heading3" class="level1"><h1><span><span id="ojs-element-id-4"></span></span></h1><p>Ut ut condimentum augue, nec eleifend nisl. Sed facilisis egestas odio ac pretium. Pellentesque consequat magna sed venenatis sagittis. Vivamus feugiat lobortis magna vitae accumsan. Pellentesque euismod malesuada hendrerit. Ut non mauris non arcu condimentum sodales vitae vitae dolor. Nullam dapibus, velit eget lacinia rutrum, ipsum justo malesuada odio, et lobortis sapien magna vel lacus. Nulla purus neque, hendrerit non malesuada eget, mattis vel erat. Suspendisse potenti.</p></section><section id="example-heading4" class="level1"><h1><span><span id="ojs-element-id-5"></span></span></h1><p>Proin sodales neque erat, varius cursus diam tincidunt sit amet. Etiam scelerisque fringilla nisl eu venenatis. Donec sem ipsum, scelerisque ac venenatis quis, hendrerit vel mauris. Praesent semper erat sit amet purus condimentum, sit amet auctor mi feugiat. In hac habitasse platea dictumst. Nunc ac mauris in massa feugiat bibendum id in dui. Praesent accumsan urna at lacinia aliquet. Proin ultricies eu est quis pellentesque. In vel lorem at nisl rhoncus cursus eu quis mi. In eu rutrum ante, quis placerat justo. Etiam euismod nibh nibh, sed elementum nunc imperdiet in. Praesent gravida nunc vel odio lacinia, at tempus nisl placerat. Aenean id ipsum sed est sagittis hendrerit non in tortor.</p></section><section id="summary" class="level1"><h1><span><span id="ojs-element-id-6"></span></span></h1><p>Etiam non efficitur urna, quis elementum nisi. Mauris posuere a augue vel gravida. Praesent luctus erat et ex iaculis interdum. Nulla vestibulum quam ac nunc consequat vulputate. Nullam iaculis lobortis sem sit amet fringilla. Aliquam semper, metus ut blandit semper, nulla velit fermentum sapien, fermentum ultrices dolor sapien sed leo. Vestibulum molestie faucibus magna, at feugiat nulla ullamcorper a. Aliquam erat volutpat. Praesent scelerisque magna a justo maximus, sit amet suscipit mauris tempor. Nulla nec dolor eget ipsum pellentesque lobortis a in ipsum. Morbi turpis turpis, fringilla a eleifend maximus, viverra nec neque. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p></section><section id="appendix" class="level1"><h1><span><span id="ojs-element-id-7"></span></span></h1><div class="cell"><div class="sourceCode cell-code hidden" id="cb3" data-startfrom="79" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 78"><span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>toc_bottom <span class="op">=</span> <span class="fu">atlasTOC</span>({</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>  <span class="dt">skip</span><span class="op">:</span> [<span class="st">'notebook-title'</span><span class="op">,</span> <span class="st">'appendix'</span><span class="op">,</span> <span class="st">'source-code'</span>]<span class="op">,</span> <span class="co">// These should be the section headings in the {# headings} </span></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>  <span class="dt">heading</span><span class="op">:</span> <span class="vs">`&lt;b&gt;</span><span class="sc">${</span>Lang<span class="op">.</span><span class="fu">toSentenceCase</span>(<span class="fu">_lang</span>(general_translations<span class="op">.</span><span class="at">toc</span>))<span class="sc">}</span><span class="vs">&lt;/b&gt;`</span></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>htl<span class="op">.</span><span class="fu">html</span><span class="vs">`</span></span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;div class='floating-toc'&gt;</span></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a><span class="vs">      </span><span class="sc">${</span>toc_bottom<span class="sc">}</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/div&gt;</span></span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a><span class="vs">      `</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-3-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-3-2" data-nodetype="expression"></div></div></div></div></section><section id="source-code" class="level1 hidden"><h1 class="hidden">Source code</h1><div class="cell"><div class="sourceCode cell-code hidden" id="cb4" data-startfrom="91" data-source-offset="-67"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 90"><span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>nbTitle <span class="op">=</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">"This is a template to build Atlas notebooks"</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">"Ceci est un modèle pour construire des notebooks Atlas"</span>})</span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a><span class="co">// key_insights = _lang({en: "Key Insights", fr: "Résumé"})</span></span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>heading1 <span class="op">=</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">"Heading 1"</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">"Titre 1"</span>})</span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>heading2 <span class="op">=</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">"Heading 2"</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">"Titre 2"</span>})</span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>heading3 <span class="op">=</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">"Heading 3"</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">"Titre 3"</span>})</span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>heading4 <span class="op">=</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">"Heading 4"</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">"Titre 4"</span>})</span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>nbSummary <span class="op">=</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">"Summary"</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">"Résumé"</span>})</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>appendix <span class="op">=</span> <span class="fu">_lang</span>(general_translations<span class="op">.</span><span class="at">appendix</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-2" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-3" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-4" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-5" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-6" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-4-7" data-nodetype="declaration"></div></div></div></div><div class="cell"><div class="sourceCode cell-code hidden" id="cb5" data-startfrom="112" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 111"><span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>mutable hoverCountry <span class="op">=</span> <span class="st">"SSA"</span> <span class="co">// This mutable is defined here and updated in _template_plot.qmd. It should only be defined once.</span></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>keyInsights <span class="op">=</span> {</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> template <span class="op">=</span> <span class="fu">_lang</span>({</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>        <span class="dt">en</span><span class="op">:</span> <span class="vs">`This is where some key insights should go, they will be dynamic based on the selections such as country (**:::country:::**) and crop type (**:::cropType:::**)`</span><span class="op">,</span></span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fr</span><span class="op">:</span> <span class="vs">`Ceci est là où les résumés clés devraient être, ils seront dynamiques en fonction des sélections comme pays (**:::country:::**) et type de culture (**:::cropType:::**)`</span></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> fill_items <span class="op">=</span> [</span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">name</span><span class="op">:</span> <span class="st">"country"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> hoverCountry }<span class="op">,</span> <span class="co">// _lang({en: 'Chad', fr: 'Tchad'})</span></span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>      { <span class="dt">name</span><span class="op">:</span> <span class="st">"cropType"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="fu">_lang</span>({<span class="dt">en</span><span class="op">:</span> <span class="st">'potatoes'</span><span class="op">,</span> <span class="dt">fr</span><span class="op">:</span> <span class="st">'pomme de terre'</span>}) }</span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> keyText <span class="op">=</span>  <span class="fu">md</span><span class="vs">`</span><span class="sc">${</span>Lang<span class="op">.</span><span class="fu">reduceReplaceTemplateItems</span>(template<span class="op">,</span> fill_items)<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> keyText</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-5-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-5-2" data-nodetype="declaration"></div></div></div></div><div class="cell"><div class="sourceCode cell-code hidden" id="cb6" data-startfrom="139" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 138"><span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>Lang <span class="op">=</span> <span class="cf">await</span> <span class="im">import</span>(<span class="st">"/helpers/lang.js"</span>)<span class="op">.</span><span class="fu">then</span>(l <span class="kw">=&gt;</span> l<span class="op">.</span><span class="at">default</span>)<span class="op">;</span></span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>general_translations <span class="op">=</span> <span class="cf">await</span> <span class="fu">FileAttachment</span>(<span class="st">"/data/shared/generalTranslations.json"</span>)<span class="op">.</span><span class="fu">json</span>()</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a>languages <span class="op">=</span> [</span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">key</span><span class="op">:</span> <span class="st">"en"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"English"</span><span class="op">,</span> <span class="dt">locale</span><span class="op">:</span> <span class="st">'en-US'</span> }<span class="op">,</span></span>
<span id="cb6-145"><a href="#cb6-145" aria-hidden="true" tabindex="-1"></a>  { <span class="dt">key</span><span class="op">:</span> <span class="st">"fr"</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Français"</span><span class="op">,</span> <span class="dt">locale</span><span class="op">:</span> <span class="st">'fr-FR'</span> }</span>
<span id="cb6-146"><a href="#cb6-146" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb6-147"><a href="#cb6-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-148"><a href="#cb6-148" aria-hidden="true" tabindex="-1"></a>defaultLangKey <span class="op">=</span> {</span>
<span id="cb6-149"><a href="#cb6-149" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> name <span class="op">=</span> <span class="st">"lang"</span><span class="op">;</span></span>
<span id="cb6-150"><a href="#cb6-150" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> list <span class="op">=</span> languages<span class="op">.</span><span class="fu">map</span>((d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">key</span>)<span class="op">;</span></span>
<span id="cb6-151"><a href="#cb6-151" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> defaultKey <span class="op">=</span> <span class="st">"en"</span><span class="op">;</span></span>
<span id="cb6-152"><a href="#cb6-152" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> queryParam <span class="op">=</span> <span class="cf">await</span> Lang<span class="op">.</span><span class="fu">getParamFromList</span>({ name<span class="op">,</span> list })<span class="op">;</span></span>
<span id="cb6-153"><a href="#cb6-153" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> queryParam <span class="op">??</span> defaultKey<span class="op">;</span></span>
<span id="cb6-154"><a href="#cb6-154" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-155"><a href="#cb6-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-156"><a href="#cb6-156" aria-hidden="true" tabindex="-1"></a>_lang <span class="op">=</span> Lang<span class="op">.</span><span class="fu">lg</span>(masterLanguage<span class="op">.</span><span class="at">key</span>)</span>
<span id="cb6-157"><a href="#cb6-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-158"><a href="#cb6-158" aria-hidden="true" tabindex="-1"></a>viewof masterLanguage <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>(languages<span class="op">,</span> {</span>
<span id="cb6-159"><a href="#cb6-159" aria-hidden="true" tabindex="-1"></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Main language toggle"</span><span class="op">,</span></span>
<span id="cb6-160"><a href="#cb6-160" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">key</span><span class="op">,</span></span>
<span id="cb6-161"><a href="#cb6-161" aria-hidden="true" tabindex="-1"></a>  <span class="dt">value</span><span class="op">:</span> languages<span class="op">.</span><span class="fu">find</span>((x) <span class="kw">=&gt;</span> x<span class="op">.</span><span class="at">key</span> <span class="op">===</span> defaultLangKey)<span class="op">,</span></span>
<span id="cb6-162"><a href="#cb6-162" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-6-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-6-2" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-6-3" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-6-4" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-6-5" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-6-6" data-nodetype="declaration"></div></div></div></div><div class="cell"><div class="sourceCode cell-code hidden" id="cb7" data-startfrom="174" data-source-offset="-66"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 173"><span id="cb7-174"><a href="#cb7-174" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">NavbarLangSelector</span>(language_obj<span class="op">,</span> masterLanguage) {</span>
<span id="cb7-175"><a href="#cb7-175" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> navEnd <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">querySelector</span>(<span class="st">".navbar-nav.ms-auto .nav-item.compact"</span>)<span class="op">;</span></span>
<span id="cb7-176"><a href="#cb7-176" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (navEnd) {</span>
<span id="cb7-177"><a href="#cb7-177" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> existingLangSelector <span class="op">=</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">"nav-lang-selector"</span>)<span class="op">;</span></span>
<span id="cb7-178"><a href="#cb7-178" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>existingLangSelector) {</span>
<span id="cb7-179"><a href="#cb7-179" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> lang_sel <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">bind</span>(</span>
<span id="cb7-180"><a href="#cb7-180" aria-hidden="true" tabindex="-1"></a>        Inputs<span class="op">.</span><span class="fu">radio</span>(language_obj<span class="op">,</span> {</span>
<span id="cb7-181"><a href="#cb7-181" aria-hidden="true" tabindex="-1"></a>          <span class="dt">label</span><span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb7-182"><a href="#cb7-182" aria-hidden="true" tabindex="-1"></a>          <span class="dt">format</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">label</span></span>
<span id="cb7-183"><a href="#cb7-183" aria-hidden="true" tabindex="-1"></a>        })<span class="op">,</span></span>
<span id="cb7-184"><a href="#cb7-184" aria-hidden="true" tabindex="-1"></a>        viewof masterLanguage</span>
<span id="cb7-185"><a href="#cb7-185" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb7-186"><a href="#cb7-186" aria-hidden="true" tabindex="-1"></a>      lang_sel<span class="op">.</span><span class="at">id</span> <span class="op">=</span> <span class="st">"nav-lang-selector"</span><span class="op">;</span></span>
<span id="cb7-187"><a href="#cb7-187" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-188"><a href="#cb7-188" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Hack the css together for the observable inputs</span></span>
<span id="cb7-189"><a href="#cb7-189" aria-hidden="true" tabindex="-1"></a>      lang_sel<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">display</span> <span class="op">=</span> <span class="st">"flex"</span><span class="op">;</span></span>
<span id="cb7-190"><a href="#cb7-190" aria-hidden="true" tabindex="-1"></a>      lang_sel<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">alignItems</span> <span class="op">=</span> <span class="st">"center"</span><span class="op">;</span></span>
<span id="cb7-191"><a href="#cb7-191" aria-hidden="true" tabindex="-1"></a>      lang_sel<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">marginLeft</span> <span class="op">=</span> <span class="st">"10px"</span><span class="op">;</span></span>
<span id="cb7-192"><a href="#cb7-192" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> lang_div <span class="op">=</span> lang_sel<span class="op">.</span><span class="fu">querySelector</span>(<span class="st">"div"</span>)<span class="op">;</span></span>
<span id="cb7-193"><a href="#cb7-193" aria-hidden="true" tabindex="-1"></a>      lang_div<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">display</span> <span class="op">=</span> <span class="st">"flex"</span><span class="op">;</span></span>
<span id="cb7-194"><a href="#cb7-194" aria-hidden="true" tabindex="-1"></a>      lang_div<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">flexDirection</span> <span class="op">=</span> <span class="st">"column"</span><span class="op">;</span></span>
<span id="cb7-195"><a href="#cb7-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-196"><a href="#cb7-196" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Insert the new item after the GitHub icon and other elements</span></span>
<span id="cb7-197"><a href="#cb7-197" aria-hidden="true" tabindex="-1"></a>      navEnd<span class="op">.</span><span class="at">parentNode</span><span class="op">.</span><span class="fu">appendChild</span>(lang_sel)<span class="op">;</span></span>
<span id="cb7-198"><a href="#cb7-198" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-199"><a href="#cb7-199" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-200"><a href="#cb7-200" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-201"><a href="#cb7-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-202"><a href="#cb7-202" aria-hidden="true" tabindex="-1"></a><span class="fu">NavbarLangSelector</span>(languages<span class="op">,</span> masterLanguage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-7-1" data-nodetype="declaration"></div></div></div><div class="cell-output cell-output-display"><div><div id="ojs-cell-7-2" data-nodetype="expression"></div></div></div></div><div class="cell"><div class="sourceCode cell-code hidden" id="cb8" data-startfrom="192" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset:source-line 191"><span id="cb8-192"><a href="#cb8-192" aria-hidden="true" tabindex="-1"></a>prettyLanguageView <span class="op">=</span> {</span>
<span id="cb8-193"><a href="#cb8-193" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> Inputs<span class="op">.</span><span class="fu">bind</span>(</span>
<span id="cb8-194"><a href="#cb8-194" aria-hidden="true" tabindex="-1"></a>    Inputs<span class="op">.</span><span class="fu">radio</span>(languages<span class="op">,</span> {</span>
<span id="cb8-195"><a href="#cb8-195" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="fu">_lang</span>(general_translations<span class="op">.</span><span class="at">language</span>)<span class="op">,</span></span>
<span id="cb8-196"><a href="#cb8-196" aria-hidden="true" tabindex="-1"></a>      <span class="dt">format</span><span class="op">:</span> (d) <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">label</span></span>
<span id="cb8-197"><a href="#cb8-197" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb8-198"><a href="#cb8-198" aria-hidden="true" tabindex="-1"></a>    viewof masterLanguage</span>
<span id="cb8-199"><a href="#cb8-199" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb8-200"><a href="#cb8-200" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div><div class="cell-output cell-output-display"><div id="ojs-cell-8" data-nodetype="declaration"></div></div></div><!-- 

# Prototypes for future use to hack a sidebar into notebooks: 

{.column-margin}


:::::{.cell}

```{.js .cell-code .hidden startFrom="-1" source-offset="0"}
htl.html`
<style>
.sticky-margin-div {
  position: fixed;
  }
@media (max-width: 768px) {
  .sticky-margin-div {
    position: static;
    }
}
</style>

<div class = "sticky-margin-div">
    <div>
      ${Inputs.radio(languages, {
        label: "Main language toggle",
        format: (d) => d.key,
        value: languages.find((x) => x.key === defaultLangKey),
      })}
    </div>
  </div>`
```

::::{.cell-output .cell-output-display}

:::{#ojs-cell-9 nodetype="expression"}
:::
::::
:::::

:-:: 

--><div class="ojs-auto-generated hidden"><script type="ojs-module-contents">eyJjb250ZW50cyI6WyAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7a2V5SW5zaWdodHN9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0xIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtoZWFkaW5nMX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2hlYWRpbmcyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMyJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7aGVhZGluZzN9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC00In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtoZWFkaW5nNH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTUifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke25iU3VtbWFyeX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTYifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2FwcGVuZGl4fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNyJ9XX0=</script></div></section></main><script type="ojs-module-contents">eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIE5PVEU6IFF1YXJ0byByZXNvbHZlcyBwYXRocyBmcm9tIHRoZSBwcm9qZWN0IHJvb3QuIElmIHRoaXMgaW1wb3J0IGZhaWxzLFxuLy8gdHJ5IHN3aXRjaGluZyB0byBhIHJlbGF0aXZlIHBhdGggbGlrZSBcIi4vLi4vLi4vaGVscGVycy91aUNvbXBvbmVudHMub2pzXCIuXG5cbmltcG9ydCB7IGF0bGFzVE9DLCBhdGxhc0hlcm8gfSBmcm9tIFwiL2hlbHBlcnMvdWlDb21wb25lbnRzLm9qc1wiXG5cbmhlcm9fdXJsID0gXCIvaW1hZ2VzL2RlZmF1bHRfaW0ud2VicFwiXG5cbmF0bGFzSGVybyhuYlRpdGxlLCBoZXJvX3VybClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImltcG9ydCB7IGJvdW5kYXJ5X3BhdGhzIH0gZnJvbSBcIi9oZWxwZXJzL2JvdW5kYXJpZXMuanNcIlxueCA9IDUgXG5cbntcbiAgY29uc3QgZGF0YV90b3BvID0gYXdhaXQgRmlsZUF0dGFjaG1lbnQoXCIvZGF0YS9zaGFyZWQvYXRsYXNfZ2F1bF9hMF9hZnJpY2Ffc2ltcGxlLXZsb3dyZXMudG9wb2pzb25cIikuanNvbigpO1xuXG4gIGNvbnN0IGRhdGEgPSB0b3BvanNvbi5mZWF0dXJlKGRhdGFfdG9wbywgZGF0YV90b3BvLm9iamVjdHNbXCJhdGxhc19nYXVsX2EwX2FmcmljYVwiXSk7XG5cbiAgY29uc3QgY2FwdGlvbiA9IFwiVGhpcyBpcyBhbiBleGFtcGxlIG1hcCB3aGljaCBjYW4gYmUgY29waWVkIGFuZCBtb2RpZmllZCBmb3IgQXRsYXMgbm90ZWJvb2tzXCJcbiAgLy8gcmV0dXJuIHBsb3RcbiAgbGV0IHBsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHdpZHRoOiA2MDAsXG4gICAgaGVpZ2h0OiA2MDAsXG4gICAgY2FwdGlvbixcbiAgICBwcm9qZWN0aW9uOiB7XG4gICAgICB0eXBlOiBcImF6aW11dGhhbC1lcXVhbC1hcmVhXCIsXG4gICAgICBkb21haW46IGRhdGFcbiAgICB9LFxuICAgIG1hcmtzOiBbXG4gICAgICAvLyBnZW8gZGF0YVxuICAgICAgUGxvdC5nZW8oZGF0YS5mZWF0dXJlcywge1xuICAgICAgICBmaWxsOiBcImxpZ2h0Z3JleVwiLFxuICAgICAgICBzdHJva2U6IFwiI2ZmZlwiLFxuICAgICAgICBzdHJva2VXaWR0aDogMC41XG4gICAgICB9KSxcbiAgICAgIC8vIGdlbyBwb2ludGVyXG4gICAgICBQbG90LmdlbyhcbiAgICAgICAgZGF0YSxcbiAgICAgICAgUGxvdC5wb2ludGVyKFxuICAgICAgICAgIFBsb3QuY2VudHJvaWQoe1xuICAgICAgICAgICAgc3Ryb2tlOiBcIiMzMzNcIixcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAxLjVcbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApLFxuICAgICAgLy8gdG9vbHRpcFxuICAgICAgUGxvdC50aXAoXG4gICAgICAgIGRhdGEuZmVhdHVyZXMsXG4gICAgICAgIFBsb3QucG9pbnRlcihcbiAgICAgICAgICBQbG90LmNlbnRyb2lkKHtcbiAgICAgICAgICAgIGNoYW5uZWxzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICAgICAvLyByZWdpb24gbGFiZWwsIGJhc2VkIG9uIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNvdW50cnlcIiwgLy8gcGxvdC1sZXZlbCBzbyBpbnB1dHMgZG9uJ3QgcmVsb2FkXG4gICAgICAgICAgICAgICAgdmFsdWU6IChkKSA9PiBkLnByb3BlcnRpZXMuYWRtaW4wX25hbWVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICApXG4gICAgXVxuICB9KTtcbiAgcGxvdC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKHBsb3QudmFsdWUpO1xuICBtdXRhYmxlIGhvdmVyQ291bnRyeSA9IHBsb3QudmFsdWUucHJvcGVydGllcy5hZG1pbl9uYW1lXG4gIH0pO1xuICByZXR1cm4gcGxvdFxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG50b2NfYm90dG9tID0gYXRsYXNUT0Moe1xuICBza2lwOiBbJ25vdGVib29rLXRpdGxlJywgJ2FwcGVuZGl4JywgJ3NvdXJjZS1jb2RlJ10sIC8vIFRoZXNlIHNob3VsZCBiZSB0aGUgc2VjdGlvbiBoZWFkaW5ncyBpbiB0aGUgeyMgaGVhZGluZ3N9IFxuICBoZWFkaW5nOiBgPGI+JHtMYW5nLnRvU2VudGVuY2VDYXNlKF9sYW5nKGdlbmVyYWxfdHJhbnNsYXRpb25zLnRvYykpfTwvYj5gXG59KVxuXG5odGwuaHRtbGBcbiAgICAgIDxkaXYgY2xhc3M9J2Zsb2F0aW5nLXRvYyc+XG4gICAgICAke3RvY19ib3R0b219XG4gICAgICA8L2Rpdj5cbiAgICAgIGBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIFRoaXMgY2VsbCBpcyB0byBjb250YWluIGFsbCB0aGUgaGVhZGluZ3MgYW5kIHRoZSBub3RlYm9vayB0aXRsZVxubmJUaXRsZSA9IF9sYW5nKHtlbjogXCJUaGlzIGlzIGEgdGVtcGxhdGUgdG8gYnVpbGQgQXRsYXMgbm90ZWJvb2tzXCIsIGZyOiBcIkNlY2kgZXN0IHVuIG1vZMOobGUgcG91ciBjb25zdHJ1aXJlIGRlcyBub3RlYm9va3MgQXRsYXNcIn0pXG4vLyBrZXlfaW5zaWdodHMgPSBfbGFuZyh7ZW46IFwiS2V5IEluc2lnaHRzXCIsIGZyOiBcIlLDqXN1bcOpXCJ9KVxuaGVhZGluZzEgPSBfbGFuZyh7ZW46IFwiSGVhZGluZyAxXCIsIGZyOiBcIlRpdHJlIDFcIn0pXG5oZWFkaW5nMiA9IF9sYW5nKHtlbjogXCJIZWFkaW5nIDJcIiwgZnI6IFwiVGl0cmUgMlwifSlcbmhlYWRpbmczID0gX2xhbmcoe2VuOiBcIkhlYWRpbmcgM1wiLCBmcjogXCJUaXRyZSAzXCJ9KVxuaGVhZGluZzQgPSBfbGFuZyh7ZW46IFwiSGVhZGluZyA0XCIsIGZyOiBcIlRpdHJlIDRcIn0pXG5uYlN1bW1hcnkgPSBfbGFuZyh7ZW46IFwiU3VtbWFyeVwiLCBmcjogXCJSw6lzdW3DqVwifSlcbmFwcGVuZGl4ID0gX2xhbmcoZ2VuZXJhbF90cmFuc2xhdGlvbnMuYXBwZW5kaXgpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbm11dGFibGUgaG92ZXJDb3VudHJ5ID0gXCJTU0FcIiAvLyBUaGlzIG11dGFibGUgaXMgZGVmaW5lZCBoZXJlIGFuZCB1cGRhdGVkIGluIF90ZW1wbGF0ZV9wbG90LnFtZC4gSXQgc2hvdWxkIG9ubHkgYmUgZGVmaW5lZCBvbmNlLlxuXG5rZXlJbnNpZ2h0cyA9IHtcbiAgbGV0IHRlbXBsYXRlID0gX2xhbmcoe1xuICAgICAgICBlbjogYFRoaXMgaXMgd2hlcmUgc29tZSBrZXkgaW5zaWdodHMgc2hvdWxkIGdvLCB0aGV5IHdpbGwgYmUgZHluYW1pYyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9ucyBzdWNoIGFzIGNvdW50cnkgKCoqOjo6Y291bnRyeTo6OioqKSBhbmQgY3JvcCB0eXBlICgqKjo6OmNyb3BUeXBlOjo6KiopYCxcbiAgICAgICAgZnI6IGBDZWNpIGVzdCBsw6Agb8O5IGxlcyByw6lzdW3DqXMgY2zDqXMgZGV2cmFpZW50IMOqdHJlLCBpbHMgc2Vyb250IGR5bmFtaXF1ZXMgZW4gZm9uY3Rpb24gZGVzIHPDqWxlY3Rpb25zIGNvbW1lIHBheXMgKCoqOjo6Y291bnRyeTo6OioqKSBldCB0eXBlIGRlIGN1bHR1cmUgKCoqOjo6Y3JvcFR5cGU6OjoqKilgXG4gIH0pXG4gIGxldCBmaWxsX2l0ZW1zID0gW1xuICAgICAgeyBuYW1lOiBcImNvdW50cnlcIiwgdmFsdWU6IGhvdmVyQ291bnRyeSB9LCAvLyBfbGFuZyh7ZW46ICdDaGFkJywgZnI6ICdUY2hhZCd9KVxuICAgICAgeyBuYW1lOiBcImNyb3BUeXBlXCIsIHZhbHVlOiBfbGFuZyh7ZW46ICdwb3RhdG9lcycsIGZyOiAncG9tbWUgZGUgdGVycmUnfSkgfVxuICAgIF1cbiAgbGV0IGtleVRleHQgPSAgbWRgJHtMYW5nLnJlZHVjZVJlcGxhY2VUZW1wbGF0ZUl0ZW1zKHRlbXBsYXRlLCBmaWxsX2l0ZW1zKX1gXG4gIHJldHVybiBrZXlUZXh0XG59XG5cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IkxhbmcgPSBhd2FpdCBpbXBvcnQoXCIvaGVscGVycy9sYW5nLmpzXCIpLnRoZW4obCA9PiBsLmRlZmF1bHQpO1xuXG5nZW5lcmFsX3RyYW5zbGF0aW9ucyA9IGF3YWl0IEZpbGVBdHRhY2htZW50KFwiL2RhdGEvc2hhcmVkL2dlbmVyYWxUcmFuc2xhdGlvbnMuanNvblwiKS5qc29uKClcblxubGFuZ3VhZ2VzID0gW1xuICB7IGtleTogXCJlblwiLCBsYWJlbDogXCJFbmdsaXNoXCIsIGxvY2FsZTogJ2VuLVVTJyB9LFxuICB7IGtleTogXCJmclwiLCBsYWJlbDogXCJGcmFuw6dhaXNcIiwgbG9jYWxlOiAnZnItRlInIH1cbl1cblxuZGVmYXVsdExhbmdLZXkgPSB7XG4gIGNvbnN0IG5hbWUgPSBcImxhbmdcIjtcbiAgY29uc3QgbGlzdCA9IGxhbmd1YWdlcy5tYXAoKGQpID0+IGQua2V5KTtcbiAgY29uc3QgZGVmYXVsdEtleSA9IFwiZW5cIjtcbiAgY29uc3QgcXVlcnlQYXJhbSA9IGF3YWl0IExhbmcuZ2V0UGFyYW1Gcm9tTGlzdCh7IG5hbWUsIGxpc3QgfSk7XG4gIHJldHVybiBxdWVyeVBhcmFtID8/IGRlZmF1bHRLZXk7XG59XG5cbl9sYW5nID0gTGFuZy5sZyhtYXN0ZXJMYW5ndWFnZS5rZXkpXG5cbnZpZXdvZiBtYXN0ZXJMYW5ndWFnZSA9IElucHV0cy5yYWRpbyhsYW5ndWFnZXMsIHtcbiAgbGFiZWw6IFwiTWFpbiBsYW5ndWFnZSB0b2dnbGVcIixcbiAgZm9ybWF0OiAoZCkgPT4gZC5rZXksXG4gIHZhbHVlOiBsYW5ndWFnZXMuZmluZCgoeCkgPT4geC5rZXkgPT09IGRlZmF1bHRMYW5nS2V5KSxcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyBpbXBvcnQgeyBOYXZiYXJMYW5nU2VsZWN0b3IgfSBmcm9tIFwiL2hlbHBlcnMvdWlDb21wb25lbnRzLm9qc1wiXG5mdW5jdGlvbiBOYXZiYXJMYW5nU2VsZWN0b3IobGFuZ3VhZ2Vfb2JqLCBtYXN0ZXJMYW5ndWFnZSkge1xuICBsZXQgbmF2RW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZiYXItbmF2Lm1zLWF1dG8gLm5hdi1pdGVtLmNvbXBhY3RcIik7XG4gIGlmIChuYXZFbmQpIHtcbiAgICBsZXQgZXhpc3RpbmdMYW5nU2VsZWN0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hdi1sYW5nLXNlbGVjdG9yXCIpO1xuICAgIGlmICghZXhpc3RpbmdMYW5nU2VsZWN0b3IpIHtcbiAgICAgIGxldCBsYW5nX3NlbCA9IElucHV0cy5iaW5kKFxuICAgICAgICBJbnB1dHMucmFkaW8obGFuZ3VhZ2Vfb2JqLCB7XG4gICAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgICAgZm9ybWF0OiAoZCkgPT4gZC5sYWJlbFxuICAgICAgICB9KSxcbiAgICAgICAgdmlld29mIG1hc3Rlckxhbmd1YWdlXG4gICAgICApO1xuICAgICAgbGFuZ19zZWwuaWQgPSBcIm5hdi1sYW5nLXNlbGVjdG9yXCI7XG4gICAgICBcbiAgICAgIC8vIEhhY2sgdGhlIGNzcyB0b2dldGhlciBmb3IgdGhlIG9ic2VydmFibGUgaW5wdXRzXG4gICAgICBsYW5nX3NlbC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICBsYW5nX3NlbC5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICAgIGxhbmdfc2VsLnN0eWxlLm1hcmdpbkxlZnQgPSBcIjEwcHhcIjtcbiAgICAgIGxldCBsYW5nX2RpdiA9IGxhbmdfc2VsLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIik7XG4gICAgICBsYW5nX2Rpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICBsYW5nX2Rpdi5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBuZXcgaXRlbSBhZnRlciB0aGUgR2l0SHViIGljb24gYW5kIG90aGVyIGVsZW1lbnRzXG4gICAgICBuYXZFbmQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChsYW5nX3NlbCk7XG4gICAgfVxuICB9XG59XG5cbk5hdmJhckxhbmdTZWxlY3RvcihsYW5ndWFnZXMsIG1hc3Rlckxhbmd1YWdlKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoicHJldHR5TGFuZ3VhZ2VWaWV3ID0ge1xuICByZXR1cm4gSW5wdXRzLmJpbmQoXG4gICAgSW5wdXRzLnJhZGlvKGxhbmd1YWdlcywge1xuICAgICAgbGFiZWw6IF9sYW5nKGdlbmVyYWxfdHJhbnNsYXRpb25zLmxhbmd1YWdlKSxcbiAgICAgIGZvcm1hdDogKGQpID0+IGQubGFiZWxcbiAgICB9KSxcbiAgICB2aWV3b2YgbWFzdGVyTGFuZ3VhZ2VcbiAgKTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bC5odG1sYFxuPHN0eWxlPlxuLnN0aWNreS1tYXJnaW4tZGl2IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB9XG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgLnN0aWNreS1tYXJnaW4tZGl2IHtcbiAgICBwb3NpdGlvbjogc3RhdGljO1xuICAgIH1cbn1cbjwvc3R5bGU+XG5cbjxkaXYgY2xhc3MgPSBcInN0aWNreS1tYXJnaW4tZGl2XCI+XG4gICAgPGRpdj5cbiAgICAgICR7SW5wdXRzLnJhZGlvKGxhbmd1YWdlcywge1xuICAgICAgICBsYWJlbDogXCJNYWluIGxhbmd1YWdlIHRvZ2dsZVwiLFxuICAgICAgICBmb3JtYXQ6IChkKSA9PiBkLmtleSxcbiAgICAgICAgdmFsdWU6IGxhbmd1YWdlcy5maW5kKCh4KSA9PiB4LmtleSA9PT0gZGVmYXVsdExhbmdLZXkpLFxuICAgICAgfSl9XG4gICAgPC9kaXY+XG4gIDwvZGl2PmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFzdGVyTGFuZ3VhZ2UnKSJ9XX0=</script><script type="module">"file:"===window.location.protocol&&alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."),window._ojs.paths.runtimeToDoc="../../notebooks/nb_template",window._ojs.paths.runtimeToRoot="../..",window._ojs.paths.docToRoot="../..",window._ojs.selfContained=!1,window._ojs.runtime.interpretFromScriptTags()</script><script id="quarto-html-after-body" type="application/javascript">window.document.addEventListener("DOMContentLoaded",(function(t){(()=>{const t=window.document.querySelector("link#quarto-bootstrap");t&&(t=>{const e=t.getAttribute("data-mode"),n=window.document.querySelector("body");"dark"===e?(n.classList.add("quarto-dark"),n.classList.remove("quarto-light")):(n.classList.add("quarto-light"),n.classList.remove("quarto-dark"))})(t)})();const e=t=>{for(const e of t.classList)if(e.startsWith("code-annotation-"))return!0;return!1},n=function(t){const e=t.trigger;e.blur(),e.classList.add("code-copy-button-checked");var n=e.getAttribute("title");let o;e.setAttribute("title","Copied!"),window.bootstrap&&(e.setAttribute("data-bs-toggle","tooltip"),e.setAttribute("data-bs-placement","left"),e.setAttribute("data-bs-title","Copied!"),o=new bootstrap.Tooltip(e,{trigger:"manual",customClass:"code-copy-button-tooltip",offset:[0,-8]}),o.show()),setTimeout((function(){o&&(o.hide(),e.removeAttribute("data-bs-title"),e.removeAttribute("data-bs-toggle"),e.removeAttribute("data-bs-placement")),e.setAttribute("title",n),e.classList.remove("code-copy-button-checked")}),1e3),t.clearSelection()},o=function(t){const n=t.previousElementSibling.cloneNode(!0);for(const t of n.children)e(t)&&t.remove();return n.innerText};if(new window.ClipboardJS(".code-copy-button:not([data-in-quarto-modal])",{text:o}).on("success",n),window.document.getElementById("quarto-embedded-source-code-modal")){new window.ClipboardJS(".code-copy-button[data-in-quarto-modal]",{text:o,container:window.document.getElementById("quarto-embedded-source-code-modal")}).on("success",n)}for(var i,a=new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//),l=new RegExp(/^mailto:/),r=new RegExp("https://AdaptationAtlas.github.io/atlas-notebooks/"),d=window.document.querySelectorAll("a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)"),c=0;c<d.length;c++){const t=d[c];i=t.href,r.test(i)||a.test(i)||l.test(i)||void 0!==t.dataset.originalHref&&(t.href=t.dataset.originalHref)}function s(t,e,n,o){const i={allowHTML:!0,maxWidth:500,delay:100,arrow:!1,appendTo:function(t){return t.parentElement},interactive:!0,interactiveBorder:10,theme:"quarto",placement:"bottom-start"};e&&(i.content=e),n&&(i.onTrigger=n),o&&(i.onUntrigger=o),window.tippy(t,i)}const u=window.document.querySelectorAll('a[role="doc-noteref"]');for(c=0;c<u.length;c++){const t=u[c];s(t,(function(){let e=t.getAttribute("data-footnote-href")||t.getAttribute("href");try{e=new URL(e).hash}catch{}const n=e.replace(/^#\/?/,""),o=window.document.getElementById(n);return o?o.innerHTML:""}))}const h=window.document.querySelectorAll("a.quarto-xref"),m=(t,e)=>{const n=t=>{if(t.classList.remove("page-full","page-columns"),t.children)for(const e of t.children)n(e)};if(n(e),null===t||t.startsWith("sec-")){const t=document.createElement("div");if(e.children&&e.children.length>2){t.appendChild(e.children[0].cloneNode(!0));for(let n=1;n<e.children.length;n++){const o=e.children[n];if("P"!==o.tagName||""!==o.innerText){t.appendChild(o.cloneNode(!0));break}}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(t),t.innerHTML}return window.Quarto?.typesetMath&&window.Quarto.typesetMath(e),e.innerHTML}{const t=e.querySelector("a.anchorjs-link");return t&&t.remove(),window.Quarto?.typesetMath&&window.Quarto.typesetMath(e),e.classList.contains("callout")?e.outerHTML:e.innerHTML}};for(c=0;c<h.length;c++){const t=h[c];s(t,void 0,(function(e){e.disable();let n,o=t.getAttribute("href");if(o.startsWith("#"))n=o;else try{n=new URL(o).hash}catch{}if(n){const t=n.replace(/^#\/?/,""),i=window.document.getElementById(t);if(null!==i)try{const n=m(t,i.cloneNode(!0));e.setContent(n)}finally{e.enable(),e.show()}else fetch(o.split("#")[0]).then((t=>t.text())).then((n=>{const o=(new DOMParser).parseFromString(n,"text/html").getElementById(t);if(null!==o){const n=m(t,o);e.setContent(n)}})).finally((()=>{e.enable(),e.show()}))}else fetch(o).then((t=>t.text())).then((t=>{const n=(new DOMParser).parseFromString(t,"text/html").querySelector("main.content");if(null!==n){n.children.length>0&&"HEADER"===n.children[0].tagName&&n.children[0].remove();const t=m(null,n);e.setContent(t)}})).finally((()=>{e.enable(),e.show()}))}),(function(t){}))}let w;const g=t=>{window.document;const e=t.getAttribute("data-target-cell"),n=t.getAttribute("data-target-annotation");const o=window.document.querySelector('span[data-code-cell="'+e+'"][data-code-annotation="'+n+'"]').getAttribute("data-code-lines").split(",").map((t=>e+"-"+t));let i=null,a=null,l=null;if(o.length>0){const n=window.document.getElementById(o[0]);if(i=n.offsetTop,a=n.offsetHeight,l=n.parentElement.parentElement,o.length>1){const t=window.document.getElementById(o[o.length-1]);a=t.offsetTop+t.offsetHeight-i}if(null!==i&&null!==a&&null!==l){let t=window.document.getElementById("code-annotation-line-highlight");null===t&&(t=window.document.createElement("div"),t.setAttribute("id","code-annotation-line-highlight"),t.style.position="absolute",l.appendChild(t)),t.style.top=i-2+"px",t.style.height=a+4+"px",t.style.left=0;let n=window.document.getElementById("code-annotation-line-highlight-gutter");if(null===n){n=window.document.createElement("div"),n.setAttribute("id","code-annotation-line-highlight-gutter"),n.style.position="absolute";window.document.getElementById(e).querySelector(".code-annotation-gutter").appendChild(n)}n.style.top=i-2+"px",n.style.height=a+4+"px"}w=t}},p=()=>{["code-annotation-line-highlight","code-annotation-line-highlight-gutter"].forEach((t=>{const e=window.document.getElementById(t);e&&e.remove()})),w=void 0};window.addEventListener("resize",function(t,e){let n,o=!1;return(...i)=>{o?(n&&clearTimeout(n),n=setTimeout((()=>{t.apply(this,i),n=o=!1}),e)):(t.apply(this,i),o=!0)}}((()=>{elRect=void 0,w&&g(w)}),10));const f=window.document.querySelectorAll("dt[data-target-cell]");for(const t of f)t.addEventListener("click",(t=>{const e=t.target;if(e!==w){p();const t=window.document.querySelector("dt[data-target-cell].code-annotation-active");t&&t.classList.remove("code-annotation-active"),g(e),e.classList.add("code-annotation-active")}else p(),e.classList.remove("code-annotation-active")}));const b=t=>{const e=t.parentElement;if(e){const n=e.dataset.cites;return n?{el:t,cites:n.split(" ")}:b(t.parentElement)}};var y=window.document.querySelectorAll('a[role="doc-biblioref"]');for(c=0;c<y.length;c++){const t=y[c],e=b(t);e&&s(e.el,(function(){var t=window.document.createElement("div");return e.cites.forEach((function(e){var n=window.document.createElement("div");n.classList.add("hanging-indent"),n.classList.add("csl-entry");var o=window.document.getElementById("ref-"+e);o&&(n.innerHTML=o.innerHTML),t.appendChild(n)})),t.innerHTML}))}}))</script></div></body></html>